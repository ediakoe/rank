<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Crypto Rank Mini App</title>
<style>
body {
  margin: 0;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  display: flex;
  justify-content: center;
  align-items: center;
  height: 100vh;
  background: linear-gradient(135deg, #0a0a0a, #001133);
  color: #fff;
  flex-direction: column;
}
#card {
  background: #0a0a0a;
  border-radius: 20px;
  padding: 30px;
  text-align: center;
  width: 340px;
  box-shadow: 0 0 20px #0ff;
}
#title {
  font-size: 22px;
  font-weight: bold;
  color: #0ff;
  margin-bottom: 15px;
  text-shadow: 0 0 8px #0ff;
}
#rank {
  font-size: 28px;
  font-weight: bold;
  color: #0ff;
  margin: 10px 0;
  text-shadow: 0 0 12px #0ff;
}
#message {
  font-size: 16px;
  color: #fff;
  opacity: 0.8;
  margin: 10px 0;
}
#username {
  font-size: 14px;
  color: #aaa;
  margin-top: 10px;
}
input[type="text"] {
  margin-top:10px;
  padding:8px;
  width:90%;
  border-radius:8px;
  border:none;
  outline:none;
}
button {
  margin-top: 10px;
  padding: 10px 20px;
  border: none;
  border-radius: 12px;
  background: #0ff;
  color: #000;
  font-weight: bold;
  cursor: pointer;
  transition: 0.3s;
}
button:hover {
  background: #0cc;
}
#shareText {
  margin-top: 15px;
  font-size: 14px;
  color: #0ff;
  word-wrap: break-word;
}
</style>
</head>
<body>

<div id="card">
  <div id="title">YOUR CRYPTO RANK</div>
  <div id="rank">ðŸ‘‘ ---</div>
  <div id="message">Enter your name to see your rank!</div>
  <div id="username">@username</div>
  <input type="text" id="nameInput" placeholder="Enter your name">
  <br>
  <button onclick="generateRank()">Get My Rank</button>
  <button id="farcasterBtn" onclick="shareFarcaster()" style="display:none;">Share on Farcaster</button>
  <div id="shareText"></div>
</div>

<script>
const ranks = [
  "Airdrop King","Meme Lord","Future Whale","Layer2 Wizard",
  "DeFi Sniper","Rug Survivor","NFT Master","Token Hunter",
  "Smart Contract Genius","Gas Saver Ninja",
  "Base Demon","Base Angel","Chain Explorer","Yield Farmer",
  "Pump Prophet","Diamond Hands","FOMO Captain","HODL Legend",
  "Crypto Comedian","Bull Run Rider","Bear Market Slayer",
  "Wallet Whisperer","PEPE Priest","Degen Commander","Transaction Terminator",
  "Liquidity Lord","Smol Trader","Sniper Entry God","Exit Liquidity Hero",
  "Airdrop Snatcher","Chain Prophet","NFT Archaeologist","Token Chef",
  "Market Magician","PEPE General","Layer3 Ghost","100x Dreamer",
  "Crypto Pilot","On-chain Detective","Flip Master","Alpha Seeker",
  "FUD Destroyer","Gas Guzzler","Flash Trader","Airdrop Baby",
  "NFT Clown","Moon Chaser","Whale Watcher","Crypto Monk","Chain Hero"
];

let currentShareText = "";

function generateRank() {
  const username = document.getElementById('nameInput').value.trim();
  if(!username) return alert('Please enter your name!');

  let sum = 0;
  for(let i = 0; i < username.length; i++){
    sum += username.charCodeAt(i);
  }
  const index = sum % ranks.length;
  const rank = ranks[index];

  document.getElementById('rank').textContent = `ðŸ‘‘ ${rank}`;
  document.getElementById('message').textContent = "You were made for 100x!";
  document.getElementById('username').textContent = `@${username}`;

  currentShareText = `I just got my Crypto Rank: ðŸ‘‘ ${rank}! Built by @diakoe. Check yours and tag @diakoe! ðŸš€`;
  document.getElementById('shareText').textContent = currentShareText;
  document.getElementById('farcasterBtn').style.display = 'inline-block';
}

function shareFarcaster() {
  const encodedText = encodeURIComponent(currentShareText);
  const url = `https://farcaster.com/compose?text=${encodedText}`;
  window.open(url, '_blank');
}
</script>

</body>
</html>
